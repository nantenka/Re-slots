<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>RE Slots</title>
  <style>
    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: radial-gradient(circle at top, #111 0%, #000 70%);
      font-family: Arial, sans-serif;
      color: #fff;
    }

    .machine-wrapper {
      display: flex;
      align-items: center;
    }

    .slot-machine {
      background: linear-gradient(180deg, #0c0c0c, #020202);
      border-radius: 28px;
      padding: 32px 28px 40px;
      width: 420px;
      position: relative;
      text-align: center;
      /* –ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Å–µ—Ä–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ –≤–æ–∫—Ä—É–≥ –∞–≤—Ç–æ–º–∞—Ç–∞ */
      box-shadow:
        0 0 22px rgba(170,170,170,0.28),
        0 0 55px rgba(170,170,170,0.18),
        inset 0 0 30px rgba(0,0,0,0.85);
    }

    .slot-machine.win-glow {
      animation: neonPulse 0.9s infinite alternate;
    }

    @keyframes neonPulse {
      0% {
        box-shadow:
          0 0 18px rgba(180,180,180,0.35),
          0 0 36px rgba(180,180,180,0.5),
          inset 0 0 30px rgba(0,0,0,0.8);
      }
      100% {
        box-shadow:
          0 0 28px rgba(200,200,200,0.6),
          0 0 70px rgba(200,200,200,0.9),
          inset 0 0 30px rgba(0,0,0,0.8);
      }
    }
      100% {
        box-shadow:
          0 0 30px rgba(0,255,150,0.8),
          0 0 80px rgba(0,255,150,1),
          inset 0 0 30px rgba(0,0,0,0.8);
      }
    }

    .slot-machine::before {
      content: "";
      position: absolute;
      inset: -10px;
      border-radius: 34px;
      border: 2px solid rgba(0,255,150,0.3);
      pointer-events: none;
    }

    h1 {
      margin-bottom: 24px;
      font-size: 26px;
      letter-spacing: 1px;
    }

    .reels {
      display: flex;
      justify-content: space-between;
      margin-bottom: 24px;
      background: #000;
      padding: 16px;
      border-radius: 20px;
      box-shadow: inset 0 0 20px rgba(0,255,150,0.4);
    }

    .reel {
      width: 100px;
      height: 100px;
      background: radial-gradient(circle, #050505, #000);
      border-radius: 16px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .reel img {
      max-width: 70px;
      max-height: 70px;
    }

    .result {
      margin-top: 18px;
      font-size: 18px;
      min-height: 24px;
    }

    .win {
      color: #00ff9c;
      text-shadow: 0 0 12px rgba(0, 255, 150, 0.9);
    }

    /* ===== Lever ===== */

    .lever {
      margin-left: 28px;
      position: relative;
      width: 60px;
      height: 260px;
      cursor: pointer;
    }

    .lever-base {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 36px;
      height: 36px;
      background: #222;
      border-radius: 50%;
      box-shadow: inset 0 0 10px rgba(0,0,0,0.8);
    }

    .lever-stick {
      position: absolute;
      bottom: 18px;
      left: 50%;
      width: 8px;
      height: 180px;
      background: linear-gradient(180deg, #bbb, #666);
      transform-origin: bottom center;
      transform: translateX(-50%) rotate(0deg);
      border-radius: 4px;
      transition: transform 0.25s ease;
    }

    .lever-ball {
      position: absolute;
      top: -24px;
      left: 50%;
      transform: translateX(-50%);
      width: 36px;
      height: 36px;
      background: radial-gradient(circle at 30% 30%, #ff5a5a, #a80000);
      border-radius: 50%;
      box-shadow: 0 0 16px rgba(255,0,0,0.7);
    }

    .lever.pull .lever-stick {
      transform: translateX(-50%) rotate(35deg);
    }

    .hint {
      margin-top: 10px;
      font-size: 13px;
      opacity: 0.6;
    }
      .ticker {
      margin-top: 22px;
      background: #000;
      border-radius: 999px;
      overflow: hidden;
      height: 42px;
      box-shadow:
        inset 0 0 12px rgba(255,255,255,0.15),
        0 0 20px rgba(160,160,160,0.25);
      position: relative;
    }

    .ticker-text {
      position: absolute;
      white-space: nowrap;
      font-size: 20px;
      font-weight: bold;
      letter-spacing: 4px;
      line-height: 42px;
      padding-left: 100%;
      animation: tickerMove 6s linear infinite;
      color: #d0d0d0;
      text-shadow: 0 0 10px rgba(200,200,200,0.6);
    }

    .ticker-text.jackpot {
      color: #ffffff;
      text-shadow:
        0 0 12px rgba(255,255,255,0.9),
        0 0 24px rgba(255,255,255,0.9);
    }

    @keyframes tickerMove {
      from { transform: translateX(0); }
      to { transform: translateX(-100%); }
    }

</style>
</head>
<body>
  <div class="machine-wrapper">

    <div class="slot-machine">
      <h1>üé∞ RE Slot Machine</h1>

      <div class="reels">
        <div class="reel"><img id="reel1" src="images/symbol1.png" /></div>
        <div class="reel"><img id="reel2" src="images/symbol2.png" /></div>
        <div class="reel"><img id="reel3" src="images/symbol3.png" /></div>
      </div>

      <div class="result" id="result"></div>
      
      <div class="ticker">
        <div class="ticker-text" id="tickerText">RE</div>
      </div>

      <div class="hint">Pull the lever</div>
    </div>

    <div class="lever" id="lever">
      <div class="lever-stick">
        <div class="lever-ball"></div>
      </div>
      <div class="lever-base"></div>
    </div>

  </div>

  <script>
    /*
      –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–∞–ø–æ–∫:
      /index.html
      /images/
        logo.png
        symbol1.png
        symbol2.png
        symbol3.png
        symbol4.png
        symbol5.png
    */

    const symbols = [
      'images/logo.png',
      'images/symbol1.png',
      'images/symbol2.png',
      'images/symbol3.png',
      'images/symbol4.png',
      'images/symbol5.png'
    ];

    const reels = [
      document.getElementById('reel1'),
      document.getElementById('reel2'),
      document.getElementById('reel3')
    ];

    const lever = document.getElementById('lever');
    const tickerText = document.getElementById('tickerText');
    const result = document.getElementById('result');
    const machine = document.querySelector('.slot-machine');

    let isSpinning = false;

    function randomSymbol() {
      return symbols[Math.floor(Math.random() * symbols.length)];
    }

    function setTicker(text, jackpot = false) {
      const repeated = `${text}   ${text}   ${text}   ${text}`;
      tickerText.textContent = repeated;
      tickerText.classList.toggle('jackpot', jackpot);
      tickerText.style.animation = 'none';
      tickerText.offsetHeight; // reset animation
      tickerText.style.animation = '';
    }

    function spinReels() {
      if (isSpinning) return;
      isSpinning = true;

      result.textContent = '';
      result.classList.remove('win');
      machine.classList.remove('win-glow');
      setTicker('GAMBLING');
      machine.classList.remove('win-glow');

      let spins = 16;
      const interval = setInterval(() => {
        reels.forEach(reel => reel.src = randomSymbol());
        spins--;

        if (spins <= 0) {
          clearInterval(interval);
          checkWin();
          isSpinning = false;
        }
      }, 100);
    }

    function checkWin() {
      const final = reels.map(r => r.src);
      const isWin = final.every(src => src.includes('logo'));

      if (isWin) {
        result.textContent = 'üî• JACKPOT! üî•';
        result.classList.add('win');
        machine.classList.add('win-glow');
        setTicker('JACKPOT', true);
        machine.classList.add('win-glow');
      } else {
        result.textContent = 'Try again';
        setTicker('RE');
      }
    }

    lever.addEventListener('click', () => {
      if (isSpinning) return;

      lever.classList.add('pull');
      spinReels();

      setTimeout(() => {
        lever.classList.remove('pull');
      }, 350);
    });
  </script>
</body>
</html>
